#include <iostream>
#include <queue>
#include <algorithm>
#pragma warning (disable:4996)

using namespace std; 

int Tcase[19][4][2] = {
	{{0,0},{1,0},{1,1},{2,1} }, //ㄱㄴ 모양
	{{0,1},{1,1},{1,0},{2,0}},
	{{0,0},{0,1},{1,1},{1,2}},
	{{0,1},{0,2},{1,0},{1,1}},

	{{0,0},{0,1},{0,2},{1,1}}, // ㅗ 모양
	{{0,0},{1,0},{2,0},{1,1}},
	{{1,0},{0,1},{1,1},{2,1}},
	{{0,1},{1,0},{1,1},{1,2}},

	{{0,0},{1,0},{2,0},{2,1}}, // L
	{{0,1},{1,1},{2,1},{2,0}},
	{{0,0},{0,1}, {1,0},{2,0}},
	{{0,1},{1,1},{2,1},{0,0}},

	{{0,0},{1,0},{1,1},{1,2}}, // L  옆으로
	{{1,0},{1,1},{1,2},{0,2}},
	{{0,0},{0,1}, {0,2},{1,2}},
	{{0,0},{0,1},{0,2},{1,0}},


	{{0,0},{1,0},{2,0},{3,0}}, // ㅡ
	{{0,0},{0,1},{0,2},{0,3}},

	{{0,0},{1,0},{0,1},{1,1}} // ㅁ
};

int main()
{
	int N,M, arr[502][502],sum=0;
	scanf("%d %d", &N, &M);

	for(int i=0; i<N; i++)
		for (int j = 0; j < M; j++)
			scanf("%d", &arr[i][j]);

	for (int i = 0; i < N; i++)
		for (int j = 0; j < M; j++)
			for (int k = 0; k < 19; k++)
			{
				int temp = 0;
				for (int z = 3; z >= 0; z--)
				{
					int rx = i + Tcase[k][z][0], ry = j + Tcase[k][z][1];
					if (!(rx >= 0 && rx < N && ry >= 0 && ry < M)) break;
					temp += arr[rx][ry];
				}
				sum = max(sum, temp);
			}

	printf("%d\n", sum);
}